<?
//
// $Id$
//
function FormattedNoteAppendage
   (
   $mode,
   $condition,
   $mnemonic,
   $message,
   $source = "OSCAR"
   )
   {
   if ($mode) $saved_error_level = error_reporting(E_ALL);
   //
   $pad_mask = "................";
   $num_invisible_chars = 0;
   //
   $condition = strtoupper($condition);
   switch ($condition)
      {
      case "WARNING":
      case "ERROR":
      case "SEVERE":
      case "FATAL":
         $condition = "<b>$condition</b>";
         $num_invisible_chars = 7;
      }
   //
   $s =  "<br>:<br>"
      .  "<tt>"
      .  str_pad("mesg(" . strtoupper($mnemonic) . ")",16,$pad_mask)
      .  "from(" .  strtoupper($source) .  ")"
      .  "<br>"
      .  str_pad("type($condition)",(16 + $num_invisible_chars),$pad_mask)
      .  "time(" .  date("Y-m-d-H:i-T") . ")"
      .  "</tt>"
      .  "<br>"
      .  addslashes($message);
   //
   if ($mode) error_reporting($saved_error_level);
   return $s;
   }
?>